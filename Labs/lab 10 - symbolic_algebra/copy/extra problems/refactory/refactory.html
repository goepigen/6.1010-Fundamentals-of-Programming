<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.14.f36ce1d1.  miau. -->
<meta charset="utf-8"/>
<title>ReFactory: Recursion Part 1 | Fundamentals of Programming (Spring 2025) | 6.101 Spring 2025</title>
<link href="https://py.mit.edu/_static/spring25/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0,0,0,0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
kbd {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}

[id^=cs_qdiv].question-lab101_vprof [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_vprof [id$=nsubmits_left] {
  display: none;
}

</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="https://py.mit.edu/_static/_base/js/codemirror/codemirror.bundle.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring25"><img src="https://py.mit.edu/_static/spring25/logo.gif"/>Â 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd">Information<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee">Materials<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/calendar" onblur="catsoop.topMenuFocus(event);" role="menuitem">Calendar</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/labs" onblur="catsoop.topMenuFocus(event);" role="menuitem">Labs</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/practice/refactory?loginaction=login" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">â°</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/refactory">ReFactory: Recursion Part 1</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">ReFactory: Recursion Part 1</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
Please <a href="https://py.mit.edu/spring25/practice/refactory?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2)  Introduction </a></li><ul><li><a href="#_programming_exercise_instructions">2.1)  Programming Exercise Instructions </a></li></ul><li><a href="#_factory">3)  Factory </a></li><ul><li><a href="#_counting_subparts">3.1)  Counting Subparts </a></li><li><a href="#_base_parts">3.2)  Base Parts </a></li><li><a href="#_max_depth">3.3)  Max Depth </a></li></ul></ul>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">Â§</a></h2></p>
<p>This lab assumes you have Python 3.6 or later installed on your machine (3.11 recommended).</p>
<p>The following file contains code and other resources as a starting point for
this practice exercise: <a href="https://py.mit.edu/_static/spring25/practice/refactory/refactory.zip">ZIP FOLDER</a></p>
<div class="impsolution" markdown="">
<p>This practice exercise is optional and ungraded but it is designed to help you prepare for this week's Recipe's lab.</p>
</div>
<p>These problems are also a good way to practice writing code with good style. Upon submitting a correct solution to a problem, you will get access to staff solutions and explanations for each problem.</p>
<p>While we encourage students to collaborate on the concept questions, please refrain from collaborating on the coding problems except with staff members. To allow all students the benefit of working through the problems individually, the course academic integrity policy applies to your solution and the official solution code-- meaning no sharing or posting of answers allowed, especially on public or shared internet spaces.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2)  Introduction <a class="cs_permalink" href="#_introduction">Â§</a></h2></p>
<pre><code class="nohighlight">
</code></pre>
<p>Many of our future labs and quizzes will require a solid understanding of recursion. While thinking recursively may seem difficult at first, after enough practice breaking problems into recursive steps and base cases, recursion will become easier. The following problems are intended to be completed recursively (even though all recursive problems can be done iteratively and vice versa.)</p>
<p>In particular, this week's practice exercises are meant to give you opportunities to practice the following skills (which will be useful for this week's lab!):</p>
<ul>
<li>Testing using doctests</li>
<li>Making recursive functions that navigate nested structures</li>
<li>Using recursive helper functions</li>
</ul>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_programming_exercise_instructions"></a><h3 class="cs_section_title">2.1)  Programming Exercise Instructions <a class="cs_permalink" href="#_programming_exercise_instructions">Â§</a></h3></p>
<p>The following sections will contain programming exercises and related concept questions. For each programming exercise, we recommend the following approach:</p>
<ol>
<li>Read the function docstring.</li>
<li>Answer the concept questions by hand (you should be able to answer these without writing / running code!)</li>
<li>Write the function in the provided practice.py file.</li>
<li>Once your code in practice.py passes the test case associated with the function in the test.py file, paste it into the code submission box. Submitting a fully correct solution to the code submission box will unlock the ability to view the staff solutions.</li>
</ol>
<p>If you have any questions about the code solutions or want to verify your answers to the concept questions, we highly encourage you to check with your peers and/or ask a staff member!</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_factory"></a><h2 class="cs_section_title">3)  Factory <a class="cs_permalink" href="#_factory">Â§</a></h2></p>
<p>As an intern for Refactory, a parts manufacturing company, you are tasked with writing code that determines various properties of a factory's part manifest. A part manifest is represented as a dictionary, where the keys are the part numbers of finished parts and the values are a list of part numbers that are needed in order to assemble the finished part.</p>
<p>Take for example a pen factory that produces the following items:</p>
<ul>
<li>blue pens (assembled using a pen casing and blue ink)</li>
<li>a small pack of blue pens (assembled using packaging and four assembled blue pens)</li>
<li>black pens (assembled using a pen casing and black ink)</li>
<li>a large pack of blue pens (assembled using three packs of blue pens and packaging)</li>
</ul>
<p>This could be represented as the following part manifest:</p>
<pre><code class="language-python">pen_manifest = {
  5: [1, 2],  
  3: [6, 5, 5, 5, 5], 
  7: [1, 9], 
  10: [3, 3, 3, 6] 
}
</code></pre>
<p>where the corresponding part numbers to part names are:</p>
<pre><code class="language-python">    1 -&gt; pen casing
    2 -&gt; blue ink
    3 -&gt; small pack of blue pens
    5 -&gt; blue pen
    6 -&gt; packaging
    7 -&gt; black pen
    9 -&gt; black ink
    10 -&gt; large pack of blue pens
</code></pre>
<p>Note that all the keys of the dictionary are compound parts, meaning that they need to be assembled using one or more sub-parts. There are also atomic parts included in the list of values, which are raw materials that do not need assembly because they have no sub-parts.</p>
<div class="question"><b>Check Yourself 1:</b><p><b>A.</b> Which part numbers in the pen_manifest are compound parts? Which part numbers are atomic parts?</p><p><span id="queue_checkyourself_1"></span></p></div>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_counting_subparts"></a><h3 class="cs_section_title">3.1)  Counting Subparts <a class="cs_permalink" href="#_counting_subparts">Â§</a></h3></p>
<p>Last year's intern, Pye Thon, started implementing a function that determines
the number of total subparts required to assemble a part. For example, a blue
pen has 2 supbarts. Making part 3, (small pack of blue pens)
requires 5 initial sub-parts to make (one part 6 and four part 5s). Each part 5
(blue pen), requires an additional two parts to make (one part 1 and one part 2),
for a total of 5 + 4 * 2 = 13 parts. Note making packing or other atomic parts
requires 0 additional subparts.</p>
<p>Unfortunately, Pye Thon didn't get the function working before their internship
ended, and your manager has assigned you the task of fixing it!</p>
<pre><code class="language-python">def count_subparts(part_manifest, part_num):
    """
    Recursively determine the number of total parts that will be needed to
    assemble the current part.

    Parameters:
        * part_manifest (dict&lt;int, list&lt;int&gt;&gt;) : a dictionary with integer part
            numbers mapping to a list of sub-part numbers needed to assemble the part.
            Each sub-part may or may not themselves be a key in the dictionary.
        * part_num (int) : the desired part to assemble.

    Returns:
        An integer representing the total number of subparts (including the 
        number of subparts of any compound subparts.

    &gt;&gt;&gt; x = {1: [2, 3, 2, 3], 3: [2, 4, 5], 4: [2, 7]}
    &gt;&gt;&gt; count_subparts(x, 3)
    5
    &gt;&gt;&gt; count_subparts(x, 2)
    0
    &gt;&gt;&gt; count_subparts(x, 1)
    14
    &gt;&gt;&gt; y = {5: [1, 2], 3: [6,5,5,5,5], 7: [1,9], 10: [3,3,3,6]}
    &gt;&gt;&gt; count_subparts(y, 10)
    0 # TODO FIX THIS
    """
</code></pre>
<div class="question"><b>Check Yourself 2:</b><p><b>A.</b> How many subparts are needed to construct part 10 in the pen
factory manifest (copied below)?
<pre><code class="language-python">pen_manifest = { 
  5: [1, 2],  
  3: [6, 5, 5, 5, 5], 
  7: [1, 9], 
  10: [3, 3, 3, 6] 
}
</code></pre>
<p><b>B.</b> Modify the last doctest in count_subparts to check that your code gets the expected answer for part B.</p></p><p><span id="queue_checkyourself_2"></span></p></div>
<p>
<!--START question count_subparts --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_count_subparts" style="position: static">
<div id="count_subparts_rendered_question">
<div id="catsoop_preamble_count_subparts"></div>
<div id="catsoop_prompt_count_subparts" style="display: inline;"><b>C.</b> Paste your definition of count_subparts below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="count_subparts" name="count_subparts">def count_subparts(part_manifest, part_num):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_count_subparts = catsoop.codemirror.editorFromTextArea(document.getElementById('count_subparts'), 'python');
</script>
</div><div>
<span id="count_subparts_buttons"></span>
<span id="count_subparts_loading_wrapper" role="status">
<span id="count_subparts_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="count_subparts_score_display" role="status"></span>
<div class="nsubmits_left" id="count_subparts_nsubmits_left" role="status"></div></div>
<div id="count_subparts_solution_container">
<div id="count_subparts_solution">
</div>
<div id="count_subparts_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="count_subparts_message" role="status"></div>
</div>
</section>
<!--END question count_subparts -->
</p>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_base_parts"></a><h3 class="cs_section_title">3.2)  Base Parts <a class="cs_permalink" href="#_base_parts">Â§</a></h3></p>
<p>Your next task is to determine the unique set of atomic parts required to assemble a single part.</p>
<pre><code class="language-python">def find_base_parts(part_manifest, part_num):
    """
    Recursively determine the unique atomic parts needed to assemble a part_num.

    Parameters:
        * part_manifest (dict&lt;int, list&lt;int&gt;&gt;) : a dictionary with integer part
            numbers mapping to a list of sub-part numbers needed to assemble the part.
            Each sub-part may or may not themselves be a key in the dictionary.
        * part_num (int) : the desired part to assemble.

    Returns:
        A set of integers representing the atomic parts needed to assemble the part.

    &gt;&gt;&gt; x = {1: [2, 3, 2, 3, 6], 3: [2, 4, 5]}
    &gt;&gt;&gt; list(sorted(find_base_parts(x, 3))) # returns a set {2, 4, 5}
    [2, 4, 5]
    &gt;&gt;&gt; list(sorted(find_base_parts(x, 2))) # returns a set containing atomic part {2,}
    [2]
    &gt;&gt;&gt; list(sorted(find_base_parts(x, 1))) # returns a set {2, 4, 5, 6}
    [2, 4, 5, 6]
    """
    pass
</code></pre>
<div class="question"><b>Check Yourself 3:</b><p><b>A.</b> What are the unique atomic part(s) required to assemble part 10 (large pack of blue pens) in the pen_manifest (copied below)?
<pre><code class="language-python">pen_manifest = { 
  5: [1, 2],  
  3: [6, 5, 5, 5, 5], 
  7: [1, 9], 
  10: [3, 3, 3, 6] 
}
</code></pre>
<p><b>B.</b> What are the base case(s) for the <code>find_base_parts</code> function?</p>
<p><b>C.</b> What are the recursive case(s) for the <code>find_base_parts</code> function?</p></p><p><span id="queue_checkyourself_3"></span></p></div>
<p>
<!--START question find_base_parts --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_find_base_parts" style="position: static">
<div id="find_base_parts_rendered_question">
<div id="catsoop_preamble_find_base_parts"></div>
<div id="catsoop_prompt_find_base_parts" style="display: inline;"><b>D.</b> Paste your definition of find_base_parts below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="find_base_parts" name="find_base_parts">def find_base_parts(part_manifest, part_num):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_find_base_parts = catsoop.codemirror.editorFromTextArea(document.getElementById('find_base_parts'), 'python');
</script>
</div><div>
<span id="find_base_parts_buttons"></span>
<span id="find_base_parts_loading_wrapper" role="status">
<span id="find_base_parts_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="find_base_parts_score_display" role="status"></span>
<div class="nsubmits_left" id="find_base_parts_nsubmits_left" role="status"></div></div>
<div id="find_base_parts_solution_container">
<div id="find_base_parts_solution">
</div>
<div id="find_base_parts_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="find_base_parts_message" role="status"></div>
</div>
</section>
<!--END question find_base_parts -->
</p>
<p><a class="anchor" name="catsoop_section_3_3"></a><a class="anchor" name="_max_depth"></a><h3 class="cs_section_title">3.3)  Max Depth <a class="cs_permalink" href="#_max_depth">Â§</a></h3></p>
<p>Your final task is to determine the maximum number of assembly steps a single part needs. For example a blue pen requires a single assembly step to combine the ink and the casing. A small pack of blue pens requires two steps: first assembling the pens, and then combining the pens with the packaging.</p>
<pre><code class="language-python">def maximum_steps(part_manifest):
    """
    Recursively determine the maximum number of assembly steps it would take to assemble
    a part in the manifest.

    Parameters:
        * part_manifest (dict&lt;int, list&lt;int&gt;&gt;) : a dictionary with integer part
            numbers mapping to a list of sub-part numbers needed to assemble the part.
            Each sub-part may or may not themselves be a key in the dictionary.

    Returns:
        An integer representing the maximum depth of the part_manifest.

    &gt;&gt;&gt; maximum_steps({1: [2, 3, 2, 3], 3: [2, 4, 5]})
    2
    &gt;&gt;&gt; maximum_steps({3: [2, 4, 5]})
    1
    &gt;&gt;&gt; maximum_steps({2: [1], 4: [3, 2], 3: [2, 1]})
    3
    """
    
    def max_helper(part_num):
        """
        Given a part_num (int), return the maximum number of assembly steps.
        Base parts (parts that have no sub-parts) have 0 assembly steps.
        """
        return 0


    pass
</code></pre>
<div class="question"><b>Check Yourself 4:</b><p><b>A.</b> How many assembly steps does each compound part require in the pen factory example (copied below)? What is the maximum number of assembly steps?
<pre><code class="language-python">pen_manifest = { 
  5: [1, 2],  
  3: [6, 5, 5, 5, 5], 
  7: [1, 9], 
  10: [3, 3, 3, 6] 
}
</code></pre>
<p><b>B.</b> What are the base case(s) for the <code>max_steps</code> function?</p>
<p><b>C.</b> What are the recursive case(s) for the <code>max_steps</code> function?</p></p><p><span id="queue_checkyourself_4"></span></p></div>
<p>
<!--START question maximum_steps --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_maximum_steps" style="position: static">
<div id="maximum_steps_rendered_question">
<div id="catsoop_preamble_maximum_steps"></div>
<div id="catsoop_prompt_maximum_steps" style="display: inline;"><b>D.</b> Paste your definition of maximum_steps below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="maximum_steps" name="maximum_steps">def maximum_steps(part_manifest):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_maximum_steps = catsoop.codemirror.editorFromTextArea(document.getElementById('maximum_steps'), 'python');
</script>
</div><div>
<span id="maximum_steps_buttons"></span>
<span id="maximum_steps_loading_wrapper" role="status">
<span id="maximum_steps_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="maximum_steps_score_display" role="status"></span>
<div class="nsubmits_left" id="maximum_steps_nsubmits_left" role="status"></div></div>
<div id="maximum_steps_solution_container">
<div id="maximum_steps_solution">
</div>
<div id="maximum_steps_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="maximum_steps_message" role="status"></div>
</div>
</section>
<!--END question maximum_steps -->
<script type="text/javascript">
        if (MathJax) {
            // Disable the MathJax right-click menu,
            // so that screenreader doesn't say "clickable" on every math element
            // Based on https://docs.mathjax.org/en/latest/web/configuration.html#configuring-mathjax-after-it-is-loaded
            MathJax.config.options = MathJax.config.options ?? {};
            MathJax.config.options.enableMenu = false;
            MathJax.startup.getComponents();
        }


        // give the hamburger menu icon an accessible label
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector("a.icon")?.setAttribute('aria-label', 'site-menu');
        });
        
        // based on catsoop.modal
        catsoop.vprof_survey = function (header, text, vprof_link, link_timestamp) {
          return new Promise(function (resolve, reject) {
            var response = {
            "response": null,
            "vprof_link": vprof_link,
            "link_timestamp": link_timestamp,
            "response_timestamp": null,
            "make_modal_timestamp": Date.now(),
            };
            var content = document.createElement("dialog");
            content.classList = ["catsoop-modal-content"];
            content.setAttribute("aria-labelledby", "catsoop-dialog-header");
            content.setAttribute("aria-describedby", "catsoop-dialog-body");
            content.addEventListener("keydown", function (e) {
              // this piece traps focus in the dialog while it is open
              // based on https://hidde.blog/using-javascript-to-trap-focus-in-an-element/
              if (!content.open) {
                return;
              }
              if (e.key === "Tab" || e.keyCode === 9) {
                if (e.shiftKey) {
                  if (document.activeElement === content.focusable[0]) {
                    content.focusable[content.focusable.length - 1].focus();
                    e.preventDefault();
                  }
                } else if (
                  document.activeElement ===
                  content.focusable[content.focusable.length - 1]
                ) {
                  content.focusable[0].focus();
                  e.preventDefault();
                }
              }
            });
            content.focusable = [];

            var mbody = document.createElement("div");
            mbody.classList = ["catsoop-modal-body"];

            var close_button = document.createElement("button");
            close_button.classList = ["catsoop-modal-close"];
            close_button.innerHTML = "&times;";
            close_button.setAttribute("aria-label", "Close");
            close_button.onclick = function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "cancel", "response_timestamp": Date.now()})));
            };
            content.focusable.push(close_button);
            mbody.append(close_button);

            var title = document.createElement("span");
            title.id = "catsoop-dialog-header";
            title.classList = ["catsoop-modal-header"];
            title.appendChild(document.createTextNode(header));
            title.setAttribute("role", "heading");
            mbody.appendChild(title);

            var body = document.createElement("p");
            body.id = "catsoop-dialog-body";
            body.innerHTML = text + "<br/>";
            mbody.appendChild(body);

            var buttons = document.createElement("span");
            var yes_button = document.createElement("button");
            yes_button.innerText = "Yes";
            yes_button.classList = ["btn btn-catsoop"];
            yes_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "yes", "response_timestamp": Date.now()})));
            });
            yes_button.setAttribute("autofocus", true);
            content.focusable.push(yes_button);


            var no_button = document.createElement("button");
            no_button.innerText = "No";
            no_button.classList = ["btn btn-catsoop"];
            no_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "no", "response_timestamp": Date.now()})));
            });
            content.focusable.push(no_button);

            buttons.appendChild(yes_button);
            buttons.appendChild(document.createTextNode(" "));
            buttons.appendChild(no_button);
            mbody.appendChild(buttons);

            content.addEventListener("close", function () {
              content.remove();
              last_clicked_vprof_report[0] = null;
              last_clicked_vprof_report[1] = null;
              showing_vprof_survey[0] = false;
              (content.returnValue === "" ? reject : resolve)(content.returnValue);
            });

            content.appendChild(mbody);
            document.body.appendChild(content);
            content.showModal();
          });
        };


        function postVprofSurveyResponse(value){
            var data = JSON.parse(value);
            var encoded_form_pairs = [];
            for (var name in data){
                encoded_form_pairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
            }
            //console.log("data", data)
            var form = encoded_form_pairs.join('&').replace(/%20/g, '+');
            //console.log("form data", form);

            var request = new XMLHttpRequest();
            request.onload = function(){
                var msg = request.response;
                var data = JSON.parse(msg);
                //if(data.ok){
                //    console.log("post success")
                //}else{
                //    concole.log("post error", msg, JSON.stringify(data))
                //}
            }

            request.open('POST', "https://py.mit.edu/spring25/staffonly/analytics/vprof_survey_collector", true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            request.send(form);

        }

        var showing_vprof_survey = [false];
        var last_clicked_vprof_report = [null, null];

        document.addEventListener('visibilitychange', e=>{
          if (document.visibilityState === 'visible' &&
              last_clicked_vprof_report[0] !== null &&
              !showing_vprof_survey[0]) {
              // show vorif yes/no survey
              catsoop.vprof_survey("vprof survey",
                "Did <a href='" + last_clicked_vprof_report[0] + "' target='_blank'> this vprof report</a> help you find and/or fix an efficiency bug?",
                last_clicked_vprof_report[0], last_clicked_vprof_report[1]).then(postVprofSurveyResponse, postVprofSurveyResponse);
              showing_vprof_survey[0] = true;
            }
        })

        var vprof_links  = document.getElementsByClassName("vprof_link");
        for (var i=0; i < vprof_links.length; i++) {
            let my_link = vprof_links[i].href
            if ((typeof my_link === 'string' || my_link instanceof String) && !my_link.includes("#")) {
                vprof_links[i].href = my_link + '#78111110101-5a8a1e3f617e6a4d35394db299505c70891e32b6ef000e1aa29d2948a4ecd87f';
            }
            vprof_links[i].onclick = function(){
              last_clicked_vprof_report[0] = this.href;
              last_clicked_vprof_report[1] = Date.now();
            }
        }


    </script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['count_subparts', 'find_base_parts', 'maximum_steps'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring25/practice/refactory';
catsoop.path_info = ['spring25', 'practice', 'refactory'];
catsoop.course = 'spring25';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/refactory">ReFactory: Recursion Part 1</a></li></nav>
<div class="cs_footer">
      This page was last updated on Thursday March 06, 2025 at 07:02:47 PM (revision <code>3d4b3df9</code>).<br/>Â <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.14.f36ce1d1 "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

