<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.14.f36ce1d1.  miau. -->
<meta charset="utf-8"/>
<title>String Matching: Inheritance | Fundamentals of Programming (Spring 2025) | 6.101 Spring 2025</title>
<link href="https://py.mit.edu/_static/spring25/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0,0,0,0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
kbd {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}

[id^=cs_qdiv].question-lab101_vprof [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_vprof [id$=nsubmits_left] {
  display: none;
}

</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="https://py.mit.edu/_static/_base/js/codemirror/codemirror.bundle.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring25"><img src="https://py.mit.edu/_static/spring25/logo.gif"/>Â 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd">Information<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee">Materials<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/calendar" onblur="catsoop.topMenuFocus(event);" role="menuitem">Calendar</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/labs" onblur="catsoop.topMenuFocus(event);" role="menuitem">Labs</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/practice/match?loginaction=login" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">â°</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/match">String Matching: Inheritance</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">String Matching: Inheritance</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
Please <a href="https://py.mit.edu/spring25/practice/match?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">Â§</a></h2></p>
<p>This lab assumes you have Python 3.9 or later installed on your machine (3.11+ recommended).</p>
<p>The following file contains code and other resources as a starting point for
this practice exercise: <a href="https://py.mit.edu/_static/spring25/practice/match/match.zip">ZIP FOLDER</a></p>
<div class="impsolution" markdown="">
<p>This practice exercise is optional and ungraded but it is designed to help you prepare for this week's
<code>Symbolic Algebra</code> lab.</p>
</div>
<p>These problems are also a good way to practice writing code with good style.
Upon submitting a correct solution to a problem, you will get access to staff
solutions and explanations for each problem.</p>
<p>While we encourage students to collaborate on the concept questions, please
refrain from collaborating on the coding problems except with staff members. To
allow all students the benefit of working through the problems individually, the
course academic integrity policy applies to your solution and the official
solution code-- meaning no sharing or posting of answers allowed, especially on
public or shared internet spaces.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2)  Introduction <a class="cs_permalink" href="#_introduction">Â§</a></h2></p>
<p>In this problem, we will create a small library of classes for finding patterns
in strings.  We will use classes to represent various kinds of patterns we
might be interested to match.  Instances of those classes, then, will represent
specific patterns we want to match.</p>
<p>For each class below, implement a method <code>match(text)</code>.  If the
pattern matches the given piece of text (starting at the beginning),
this method should return a string of text associated with the match.<br/>
If there is no match at the given location, you should instead return <code>None</code>.</p>
<p>If there are multiple possible matches at a given point, your <code>match</code> methods
should always return the <em>longest possible match</em>.</p>
<p>Look we encourage you to look for opportunities to practice inheritance and
avoid repeated code!</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_primitives"></a><h2 class="cs_section_title">3)  Primitives <a class="cs_permalink" href="#_primitives">Â§</a></h2></p>
<p>Implement the following primitive classes, each of which represents a type of
pattern, in <code>practice.py</code>:</p>
<ul>
<li><code>Dot()</code> matches any single character</li>
<li><code>Verbatim(string)</code> matches some text exactly to the <code>string</code> given at initialization time.</li>
<li><code>CharFrom(chars)</code> matches a single character contained in the given <code>chars</code> iterable.</li>
<li><code>Digit()</code> matches any single number 0-9</li>
</ul>
<p>For example:</p>
<pre><code class="language-py">&gt;&gt;&gt; print(Verbatim('tomato').match("tomatoes"))
'tomato'
&gt;&gt;&gt; print(Verbatim('tomato').match("i don't like tomatoes"))
None
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(Dot().match(''))
None
&gt;&gt;&gt; print(Dot().match('hello'))
'h'
&gt;&gt;&gt; print(Dot().match('ello'))
'e'
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(CharFrom('abc').match('cat'))
'c'
&gt;&gt;&gt; print(CharFrom('abc').match('at'))
'a'
&gt;&gt;&gt; print(CharFrom('abc').match('t'))
None
&gt;&gt;&gt; print(CharFrom('abc').match(''))
None
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(Digit().match('.12'))
None
&gt;&gt;&gt; print(Digit().match('12'))
'1'
&gt;&gt;&gt; print(Digit().match('2'))
'2'
</code></pre>
<p>Note that Verbatim and Dot have already been implemented for you.</p>
<p>
<!--START question primitives_submit --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_primitives_submit" style="position: static">
<div id="primitives_submit_rendered_question">
<div id="catsoop_preamble_primitives_submit"></div>
<div id="catsoop_prompt_primitives_submit" style="display: inline;">Paste your definition of the CharFrom and Digit classes below: The test cases are a subset of the <code>test.py</code> file so if your code is not passing the test cases online but is passing all the test cases locally, let us know! <br/></div>
<textarea id="primitives_submit" name="primitives_submit">      
class CharFrom():
    """
    Matches any single character from the given iterable object of characters.
    """
    def __init__(self, chars):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError
    
class Digit():
    """
    Matches any single integer digit 0-9.
    """
    def __init__(self):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError
</textarea>
<script type="text/javascript">
var cs_codemirror_primitives_submit = catsoop.codemirror.editorFromTextArea(document.getElementById('primitives_submit'), 'python');
</script>
</div><div>
<span id="primitives_submit_buttons"></span>
<span id="primitives_submit_loading_wrapper" role="status">
<span id="primitives_submit_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="primitives_submit_score_display" role="status"></span>
<div class="nsubmits_left" id="primitives_submit_nsubmits_left" role="status"></div></div>
<div id="primitives_submit_solution_container">
<div id="primitives_submit_solution">
</div>
<div id="primitives_submit_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="primitives_submit_message" role="status"></div>
</div>
</section>
<!--END question primitives_submit -->
</p>
<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_combinations"></a><h2 class="cs_section_title">4)  Combinations <a class="cs_permalink" href="#_combinations">Â§</a></h2></p>
<p>In addition, implement the following combinations:</p>
<ul>
<li><code>Sequence(patterns)</code> should take in a list of patterns (instances of these
classes) and should match the given arguments in order, from left to right.  If
the first pattern produces a match, we should start trying to match the second
pattern where the first ended, and so on.</li>
<li><code>Alternatives(patterns)</code> should take in a list of patterns.  In order to
determine a match, it should try each of the patterns in order until one matches,
and it should return the first match.  If none  of the given patterns matches,
then this pattern does not match.</li>
<li><code>Repeat(pattern, n_min, n_max)</code> should try to match the given pattern a minimum
of <code>n_min</code> times but no more than <code>n_max</code> times.  Note that this should match
the maximum possible number of repetitions, up to the given <code>n_max</code>.</li>
<li><code>Star(pattern)</code> should match the given pattern an arbitrary number of times
(the empty string should also be a valid match, which corresponds to matching
the given pattern 0 times).</li>
</ul>
<p>Examples:</p>
<pre><code class="language-py">&gt;&gt;&gt; print(Sequence([CharFrom('abc'), Verbatim('dog')]).match('btadog'))
None
&gt;&gt;&gt; print(Sequence([CharFrom('abc'), Verbatim('dog')]).match('adog'))
'adog'
&gt;&gt;&gt; print(Sequence([CharFrom('abc'), Verbatim('dog')]).match('dog'))
None
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(Alternatives([CharFrom('abc'), Verbatim('dog')]).match('catdog'))
'c'
&gt;&gt;&gt; print(Alternatives([CharFrom('abc'), Verbatim('dog')]).match('atdog'))
'a'
&gt;&gt;&gt; print(Alternatives([CharFrom('abc'), Verbatim('dog')]).match('tdog'))
None
&gt;&gt;&gt; print(Alternatives([CharFrom('abc'), Verbatim('dog')]).match('doga'))
'dog'
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('abcabca'))
'abcab'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('bcabca'))
'bcabc'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('cabca'))
'cabca'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('abca'))
'abca'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('bca'))
'bca'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('call'))
'ca'
&gt;&gt;&gt; print(Repeat(CharFrom('abc'), 2, 5).match('all'))
None
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; print(Star(Verbatim('hello')).match(''))
''
&gt;&gt;&gt; print(Star(Verbatim('hello')).match('hello'))
'hello'
&gt;&gt;&gt; print(Star(Verbatim('hello')).match('hellohello'))
'hellohello'
&gt;&gt;&gt; print(Star(Verbatim('hello')).match('hellohellohello'))
'hellohellohello'
&gt;&gt;&gt; print(Star(Verbatim('hello')).match('hellohellohelloheyhello'))
'hellohellohello'
</code></pre>
<p>Note that Sequence has already been implemented for you.</p>
<p>
<!--START question q000000 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;">Ask staff for the password to release the Repeat Solution: <br/></div><input aria-labelledby="catsoop_prompt_q000000" id="q000000" name="q000000" size="50" type="text" value=""/>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status"></div>
</div>
</section>
<!--END question q000000 -->
</p>
<p>
<!--START question combos_submit --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_combos_submit" style="position: static">
<div id="combos_submit_rendered_question">
<div id="catsoop_preamble_combos_submit"></div>
<div id="catsoop_prompt_combos_submit" style="display: inline;">Paste your definition of the Alternatives, Repeat, Number, and Star classes below: The test cases are a subset of the <code>test.py</code> file so if your code is not passing the test cases online but is passing all the test cases locally, let us know! <br/></div>
<textarea id="combos_submit" name="combos_submit">
class Alternatives():
    """
    Matches if _any_ of the given patterns match, by trying them in the order
    they were given.
    """
    def __init__(self, patterns):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError


class Repeat():
    """
    Matches if the given pattern (given as an instance of one of these classes)
    exists repeated between n_min (inclusive) and n_max (inclusive) times.
    This matching should be greedy (i.e., it should match as many repetitions
    as possible up to `n_max` times).  It should not match if there are fewer
    than `n_min` repetitions.
    """
    def __init__(self, pattern, n_min, n_max):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError
    

class Number():
    """
    Matches if the text matches one or more consecutive digits (no limit).
    This matching should be greedy (i.e., it should match as many consecutive
    digits as possible).  It should not match if there is not a digit at the 
    given location.
    """
    def __init__(self):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError


class Star():
    """
    Matches the given pattern (an instance of one of these classes) repeated an
    arbitrary number of times.  0 times (matching the empty string) is a valid
    match.
    """
    def __init__(self, pattern):
        raise NotImplementedError

    def match(self, text):
        raise NotImplementedError

</textarea>
<script type="text/javascript">
var cs_codemirror_combos_submit = catsoop.codemirror.editorFromTextArea(document.getElementById('combos_submit'), 'python');
</script>
</div><div>
<span id="combos_submit_buttons"></span>
<span id="combos_submit_loading_wrapper" role="status">
<span id="combos_submit_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="combos_submit_score_display" role="status"></span>
<div class="nsubmits_left" id="combos_submit_nsubmits_left" role="status"></div></div>
<div id="combos_submit_solution_container">
<div id="combos_submit_solution">
</div>
<div id="combos_submit_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="combos_submit_message" role="status"></div>
</div>
</section>
<!--END question combos_submit -->
</p>
<p><a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_pattern_search"></a><h2 class="cs_section_title">5)  Pattern Search <a class="cs_permalink" href="#_pattern_search">Â§</a></h2></p>
<p>Finally, all of these classes should support an additional method
<code>find_all(text)</code>.  This method should be a generator that yields all
<strong>non-overlapping</strong> matches of the pattern that exist within the given piece of
text (as 3-tuples <code>(start, end, text)</code>), starting with the left-most match.</p>
<p>You should implement exactly one method called <code>find_all</code>.</p>
<p>For example:</p>
<pre><code class="language-py">&gt;&gt;&gt; x = Repeat(Sequence([CharFrom('abc'), CharFrom('def')]), 2, 5)
&gt;&gt;&gt; y = x.find_all('adadadadadadadgadgadgadgadgad')
&gt;&gt;&gt; y
&lt;generator object find_all at SOME_MEMORY_LOCATION&gt;
&gt;&gt;&gt; for i in y:
...     print(i)
...
(0, 10, 'adadadadad')
(10, 14, 'adad')
&gt;&gt;&gt; y = x.find_all('adadadadadadadgadgadgadgadgadbe')
&gt;&gt;&gt; for i in y:
...     print(i)
...
(0, 10, 'adadadadad')
(10, 14, 'adad')
(27, 31, 'adbe')
</code></pre>
<p>
<!--START question findall_submit --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_findall_submit" style="position: static">
<div id="findall_submit_rendered_question">
<div id="catsoop_preamble_findall_submit"></div>
<div id="catsoop_prompt_findall_submit" style="display: inline;">Paste all your code below: The test cases are a subset of the <code>test.py</code> file so if your code is not passing the test cases online but is passing all the test cases locally, let us know! <br/></div>
<textarea id="findall_submit" name="findall_submit">
# paste your code below!
</textarea>
<script type="text/javascript">
var cs_codemirror_findall_submit = catsoop.codemirror.editorFromTextArea(document.getElementById('findall_submit'), 'python');
</script>
</div><div>
<span id="findall_submit_buttons"></span>
<span id="findall_submit_loading_wrapper" role="status">
<span id="findall_submit_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="findall_submit_score_display" role="status"></span>
<div class="nsubmits_left" id="findall_submit_nsubmits_left" role="status"></div></div>
<div id="findall_submit_solution_container">
<div id="findall_submit_solution">
</div>
<div id="findall_submit_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="findall_submit_message" role="status"></div>
</div>
</section>
<!--END question findall_submit -->
</p>
<!--
<catsoop-section> Refactoring Tutor </catsoop-section>

If you finished the practice exercises early congrats! If you're still itching 
for more programming practice, this semester we're piloting a new tool that you
may see if you take 6.102/6.031 in the future. If you could take some time to 
install the tool (it requires VsCode + an extension) and do the exercises, 
you'll get some useful practice learning about style and refactoring techniques. 
You can find [the page here](https://py.mit.edu/spring23/practice/refactoring_tutor).
-->
<p><script type="text/javascript">
        if (MathJax) {
            // Disable the MathJax right-click menu,
            // so that screenreader doesn't say "clickable" on every math element
            // Based on https://docs.mathjax.org/en/latest/web/configuration.html#configuring-mathjax-after-it-is-loaded
            MathJax.config.options = MathJax.config.options ?? {};
            MathJax.config.options.enableMenu = false;
            MathJax.startup.getComponents();
        }


        // give the hamburger menu icon an accessible label
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector("a.icon")?.setAttribute('aria-label', 'site-menu');
        });
        
        // based on catsoop.modal
        catsoop.vprof_survey = function (header, text, vprof_link, link_timestamp) {
          return new Promise(function (resolve, reject) {
            var response = {
            "response": null,
            "vprof_link": vprof_link,
            "link_timestamp": link_timestamp,
            "response_timestamp": null,
            "make_modal_timestamp": Date.now(),
            };
            var content = document.createElement("dialog");
            content.classList = ["catsoop-modal-content"];
            content.setAttribute("aria-labelledby", "catsoop-dialog-header");
            content.setAttribute("aria-describedby", "catsoop-dialog-body");
            content.addEventListener("keydown", function (e) {
              // this piece traps focus in the dialog while it is open
              // based on https://hidde.blog/using-javascript-to-trap-focus-in-an-element/
              if (!content.open) {
                return;
              }
              if (e.key === "Tab" || e.keyCode === 9) {
                if (e.shiftKey) {
                  if (document.activeElement === content.focusable[0]) {
                    content.focusable[content.focusable.length - 1].focus();
                    e.preventDefault();
                  }
                } else if (
                  document.activeElement ===
                  content.focusable[content.focusable.length - 1]
                ) {
                  content.focusable[0].focus();
                  e.preventDefault();
                }
              }
            });
            content.focusable = [];

            var mbody = document.createElement("div");
            mbody.classList = ["catsoop-modal-body"];

            var close_button = document.createElement("button");
            close_button.classList = ["catsoop-modal-close"];
            close_button.innerHTML = "&times;";
            close_button.setAttribute("aria-label", "Close");
            close_button.onclick = function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "cancel", "response_timestamp": Date.now()})));
            };
            content.focusable.push(close_button);
            mbody.append(close_button);

            var title = document.createElement("span");
            title.id = "catsoop-dialog-header";
            title.classList = ["catsoop-modal-header"];
            title.appendChild(document.createTextNode(header));
            title.setAttribute("role", "heading");
            mbody.appendChild(title);

            var body = document.createElement("p");
            body.id = "catsoop-dialog-body";
            body.innerHTML = text + "<br/>";
            mbody.appendChild(body);

            var buttons = document.createElement("span");
            var yes_button = document.createElement("button");
            yes_button.innerText = "Yes";
            yes_button.classList = ["btn btn-catsoop"];
            yes_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "yes", "response_timestamp": Date.now()})));
            });
            yes_button.setAttribute("autofocus", true);
            content.focusable.push(yes_button);


            var no_button = document.createElement("button");
            no_button.innerText = "No";
            no_button.classList = ["btn btn-catsoop"];
            no_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "no", "response_timestamp": Date.now()})));
            });
            content.focusable.push(no_button);

            buttons.appendChild(yes_button);
            buttons.appendChild(document.createTextNode(" "));
            buttons.appendChild(no_button);
            mbody.appendChild(buttons);

            content.addEventListener("close", function () {
              content.remove();
              last_clicked_vprof_report[0] = null;
              last_clicked_vprof_report[1] = null;
              showing_vprof_survey[0] = false;
              (content.returnValue === "" ? reject : resolve)(content.returnValue);
            });

            content.appendChild(mbody);
            document.body.appendChild(content);
            content.showModal();
          });
        };


        function postVprofSurveyResponse(value){
            var data = JSON.parse(value);
            var encoded_form_pairs = [];
            for (var name in data){
                encoded_form_pairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
            }
            //console.log("data", data)
            var form = encoded_form_pairs.join('&').replace(/%20/g, '+');
            //console.log("form data", form);

            var request = new XMLHttpRequest();
            request.onload = function(){
                var msg = request.response;
                var data = JSON.parse(msg);
                //if(data.ok){
                //    console.log("post success")
                //}else{
                //    concole.log("post error", msg, JSON.stringify(data))
                //}
            }

            request.open('POST', "https://py.mit.edu/spring25/staffonly/analytics/vprof_survey_collector", true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            request.send(form);

        }

        var showing_vprof_survey = [false];
        var last_clicked_vprof_report = [null, null];

        document.addEventListener('visibilitychange', e=>{
          if (document.visibilityState === 'visible' &&
              last_clicked_vprof_report[0] !== null &&
              !showing_vprof_survey[0]) {
              // show vorif yes/no survey
              catsoop.vprof_survey("vprof survey",
                "Did <a href='" + last_clicked_vprof_report[0] + "' target='_blank'> this vprof report</a> help you find and/or fix an efficiency bug?",
                last_clicked_vprof_report[0], last_clicked_vprof_report[1]).then(postVprofSurveyResponse, postVprofSurveyResponse);
              showing_vprof_survey[0] = true;
            }
        })

        var vprof_links  = document.getElementsByClassName("vprof_link");
        for (var i=0; i < vprof_links.length; i++) {
            let my_link = vprof_links[i].href
            if ((typeof my_link === 'string' || my_link instanceof String) && !my_link.includes("#")) {
                vprof_links[i].href = my_link + '#78111110101-5a8a1e3f617e6a4d35394db299505c70891e32b6ef000e1aa29d2948a4ecd87f';
            }
            vprof_links[i].onclick = function(){
              last_clicked_vprof_report[0] = this.href;
              last_clicked_vprof_report[1] = Date.now();
            }
        }


    </script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['primitives_submit', 'q000000', 'combos_submit', 'findall_submit'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring25/practice/match';
catsoop.path_info = ['spring25', 'practice', 'match'];
catsoop.course = 'spring25';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/match">String Matching: Inheritance</a></li></nav>
<div class="cs_footer">
      This page was last updated on Thursday March 06, 2025 at 07:02:47 PM (revision <code>3d4b3df9</code>).<br/>Â <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.14.f36ce1d1 "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

