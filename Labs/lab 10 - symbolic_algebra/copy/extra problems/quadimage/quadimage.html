<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.14.f36ce1d1.  miau. -->
<meta charset="utf-8"/>
<title>QuadImage: Recursive Objects | Fundamentals of Programming (Spring 2025) | 6.101 Spring 2025</title>
<link href="https://py.mit.edu/_static/spring25/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0,0,0,0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
kbd {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}

[id^=cs_qdiv].question-lab101_vprof [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_vprof [id$=nsubmits_left] {
  display: none;
}

</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="https://py.mit.edu/_static/_base/js/codemirror/codemirror.bundle.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring25"><img src="https://py.mit.edu/_static/spring25/logo.gif"/>Â 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd">Information<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee">Materials<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/calendar" onblur="catsoop.topMenuFocus(event);" role="menuitem">Calendar</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/labs" onblur="catsoop.topMenuFocus(event);" role="menuitem">Labs</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/practice/quadimage?loginaction=login" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">â°</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/quadimage">QuadImage: Recursive Objects</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">QuadImage: Recursive Objects</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
Please <a href="https://py.mit.edu/spring25/practice/quadimage?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2)  Introduction </a></li><ul><li><a href="#_programming_exercise_instructions">2.1)  Programming Exercise Instructions </a></li></ul><li><a href="#_get_pixel">3)  Get Pixel </a></li><li><a href="#_iter">4)  Iter </a></li></ul>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">Â§</a></h2></p>
<p>This lab assumes you have Python 3.9 or later installed on your machine (3.11+ recommended).</p>
<p>The following file contains code and other resources as a starting point for
this practice exercise: <a href="https://py.mit.edu/_static/spring25/practice/quadimage/quadimage.zip">ZIP FOLDER</a></p>
<div class="impsolution" markdown="">
<p>This practice exercise is optional and ungraded but it is designed to help you prepare for this week's
<code>Autocomplete</code> lab.</p>
</div>
<p>These problems are also a good way to practice writing code with good style. Upon submitting a correct solution to a problem, you will get access to staff solutions and explanations for each problem.</p>
<p>While we encourage students to collaborate on the concept questions, please refrain from collaborating on the coding problems except with staff members. To allow all students the benefit of working through the problems individually, the course academic integrity policy applies to your solution and the official solution code-- meaning no sharing or posting of answers allowed, especially on public or shared internet spaces.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2)  Introduction <a class="cs_permalink" href="#_introduction">Â§</a></h2></p>
<p>In previous weeks, we have seen various ways of representing images and solving problems recursively. This exercise will combine both image representation and recursion through implementing methods in a <code>QuadImage</code> class which uses recursion to store pixel values and locations, similar to how the <code>PrefixTree</code> lab recursively stores strings and values. Beyond preparing you for this week's lab, this lab also has practical applications- the <code>QuadImage</code> class is a form of a <a href="https://en.wikipedia.org/wiki/Quadtree">QuadTree</a> data structure, which has many real-world uses including image compression.</p>
<p>In the <code>practice.py</code> file, we have provided the outline of our <code>QuadImage</code> class and implemented the <code>__init__</code> method, which takes in a greyscale image dictionary and recursively converts it into a <code>QuadImage</code> object with the help of <code>split_image.</code> Take a minute to read through the code and documentation below:</p>
<pre><code class="language-python">class QuadImage:
    """
    Each instance of QuadImage has exactly 4 attributes:

    * width  : integer width of the image.
    * height : integer height of the image.
    * pixel  : None if there are no pixels in the quadrant or if the QuadImage
        has sub-quadrants. Otherwise, an int pixel value in the range [0, 255]
        signifying that all pixels in the quadrant have that value.
    * quadrants : if there are multiple pixels with different values,
        a list of four QuadImages which store the data for each sub-image in
        [top_left, top_right, bottom_left, bottom_right] order. Otherwise, an
        empty list.
    """

    def __init__(self, image_dict):
        """
        Given an image dictionary, convert it into a QuadImage.

        Parameters:
            * image_dict: an image dictionary of the form
            {
                'width'  : integer image width,
                'height' : integer image height,
                'pixels' : list of greyscale integer pixel values in
                           [0, 255] stored in row-major order.
            }
        """

        # initialize attributes
        self.width = image_dict["width"]
        self.height = image_dict["height"]
        self.pixel = None
        self.quadrants = []

        pixels = image_dict["pixels"]

        # if image contains no pixels, we have a blank QuadImage
        if not pixels:
            return

        # if all pixels in the image have the same value,
        # set pixel value
        if len(set(pixels)) == 1:
            self.pixel = pixels[0]
        else:
            # otherwise split image into four sub-images
            sub_images = split_image(image_dict)

            # make sub-quadrants
            for sub_image in sub_images:
                self.quadrants.append(QuadImage(sub_image))
</code></pre>
<div class="question"><b>Check Yourself 1:</b><p><b>A.</b> What are the base case(s) of <code>__init__</code>?
<p><b>B.</b> What are the recursive case(s) of <code>__init__</code>?</p></p><p><span id="queue_checkyourself_1"></span></p></div>
<p>In addition to looking at the code, it is also useful to visualize how a <code>QuadImage</code> is structured. For example, converting the following 8 by 8 image to a <code>QuadImage</code> results in 5 <code>QuadImage</code> objects arranged in two layers shown below:</p>
<pre><code class="language-python">image_dict = {
    "width": 8, "height": 8,
    "pixels": [
                100, 100, 100, 100,  50,  50,  50,  50,
                100, 100, 100, 100,  50,  50,  50,  50,
                100, 100, 100, 100,  50,  50,  50,  50,
                100, 100, 100, 100,  50,  50,  50,  50,
                  0,   0,   0,   0, 250, 250, 250, 250,
                  0,   0,   0,   0, 250, 250, 250, 250,
                  0,   0,   0,   0, 250, 250, 250, 250,
                  0,   0,   0,   0, 250, 250, 250, 250,
            ],
}
quad_im1 = QuadImage(image_dict)
</code></pre>
<center><img alt="square 1" src="https://py.mit.edu/_static/spring25/practice/quadimage/imquad1.png" width="800"/></center>
<p>The code below converts a 6 by 4 image dictionary into 9 <code>QuadImage</code> objects organized with a maximum depth of 3 layers:</p>
<pre><code class="language-python">image_dict2 = {
    "width": 6, "height": 4,
    "pixels": [ 
                55,  55,  55,  55,  55,  55,
                55,  55,  55,  55,  55,  55,
               100, 100,  50, 200, 200, 200,
               150, 150, 150, 200, 200, 200,
            ],
    }
quad_im2 = QuadImage(image_dict2)
</code></pre>
<center><img alt="square 2 diagram" src="https://py.mit.edu/_static/spring25/practice/quadimage/imquad2.png" width="800"/></center>
<p>Note that <code>split_image</code> splits images with odd dimensions into uneven sub-images.</p>
<div class="question"><b>Check Yourself 2:</b><p><b>A.</b> Draw a diagram representing the following 4 by 4 image dictionary as a <code>QuadImage</code>:
<pre><code class="language-python">image_dict3 = {
    "width": 4,
    "height": 4,
    "pixels": [
                100, 100, 0, 250, 
                0,   0,   250, 0,
                55,  55,  0,   0, 
                55,  55,  0,   0,
            ],
}
</code></pre>
<p>
<!--START question q000000 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;"><b>B.</b> Enter a tuple representing (num_quadimages, max_depth) where num_quadimages is the number of <code>QuadImage</code> objects required to represent image_dict3 and max_depth is the maximum depth of the <code>QuadImage</code>.<br/></div><input aria-labelledby="catsoop_prompt_q000000" id="q000000" name="q000000" size="50" type="text" value=""/>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></img></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status"></div>
</div>
</section>
<!--END question q000000 -->
</p>
<p>Before you continue, compare your <code>QuadImage</code> diagram with the one in the answer explanation above.</p></p><p><span id="queue_checkyourself_2"></span></p></div>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_programming_exercise_instructions"></a><h3 class="cs_section_title">2.1)  Programming Exercise Instructions <a class="cs_permalink" href="#_programming_exercise_instructions">Â§</a></h3></p>
<p>The following sections will contain programming exercises and related concept questions. For each programming exericse, we recommend the following approach:</p>
<ol>
<li>Read the function docstring.</li>
<li>Answer the concept questions by hand (you should be able to answer these without writing code!)</li>
<li>Write the function in the provided <code>practice.py</code> file.</li>
<li>Once your code in <code>practice.py</code> passes the test case associated with the function in the <code>test.py</code> file, paste it into the code submission box. Submitting a fully correct solution to the code submission box will unlock the ability to view the staff solutions.</li>
</ol>
<p>If you have any questions about the code solutions or want to verify your answers to the concept questions, we highly encourage you to check with your peers and/or ask a staff member!</p>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_get_pixel"></a><h2 class="cs_section_title">3)  Get Pixel <a class="cs_permalink" href="#_get_pixel">Â§</a></h2></p>
<p>Now that we have created our <code>QuadImage</code>, it would be useful if we could actually access the values in our image! In order to do this, we will implement a useful dunder method called <code>__getitem__</code> in our <code>QuadImage</code> class.</p>
<pre><code class="language-python">def __getitem__(self, point):
    """
    Given a (x, y) point inside the QuadImage,
    return the value associated with that pixel.
    """

    # TODO implement base case

    # Recursive case: search sub-quadrants for value
    split_x = self.quadrants[0].width
    split_y = self.quadrants[0].height

    # find which quadrant the point is in,
    # and update the point to fit in quadrant
    quad_index = 0

    # point is in top right quadrant
    if point[0] &gt;= split_x and point[1] &lt; split_y:
        quad_index = 1
        point = (point[0] - split_x, point[1])

    # TODO update point / quad_index for other quadrants

    # TODO get pixel value for point in quadrant
</code></pre>
<p>Getting pixels from our <code>QuadImage</code> is a little bit trickier than getting pixels from our dictionary image representation. For example, in our 6 by 4 image, getting the point (2, 3) finds the point (2, 1) in the bottom left quadrant by getting point (0, 0) from its bottom right quadrant, which returns the value 150.</p>
<img alt="get point (3, 2)" src="https://py.mit.edu/_static/spring25/practice/quadimage/get_1.png" width="700"/>
<p>Getting the neighboring pixel at (3,3) is a bit easier. It involves getting point (0,1) from the bottom right quadrant, which returns us the value of 200.</p>
<img alt="get point (3,3" src="https://py.mit.edu/_static/spring25/practice/quadimage/get2.png" width="700"/>
<p>
<!--START question q000001 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
<div id="catsoop_preamble_q000001"></div>
<div id="catsoop_prompt_q000001" style="display: inline;">Consider getting the point (0, 1) from our <code>QuadImage</code> above. What is the corresponding (x, y) tuple in the top left quadrant?<br/></div><input aria-labelledby="catsoop_prompt_q000001" id="q000001" name="q000001" size="50" type="text" value=""/>
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper" role="status">
<span id="q000001_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></img></span>
</span>
<span id="q000001_score_display" role="status"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left" role="status"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000001_message" role="status"></div>
</div>
</section>
<!--END question q000001 -->
</p>
<p>
<!--START question q000002 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
<div id="catsoop_preamble_q000002"></div>
<div id="catsoop_prompt_q000002" style="display: inline;">Consider getting the point (4, 1) from our <code>QuadImage</code> above. What is the corresponding (x, y) tuple in the top right quadrant?<br/></div><input aria-labelledby="catsoop_prompt_q000002" id="q000002" name="q000002" size="50" type="text" value=""/>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper" role="status">
<span id="q000002_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></img></span>
</span>
<span id="q000002_score_display" role="status"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left" role="status"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000002_message" role="status"></div>
</div>
</section>
<!--END question q000002 -->
</p>
<div class="question"><b>Check Yourself 3:</b><p><b>A.</b> What are the steps of getting the pixel (0, 0) from our 4 by 4 <code>QuadImage</code> below?
<p><b>B.</b> What are the steps of getting the pixel (3, 0) from our 4 by 4 <code>QuadImage</code> below?</p>
<pre><code class="language-python">image = {
    "width": 4,
    "height": 4,
    "pixels": [
                100, 100, 0, 250, 
                0,   0,   250, 0,
                55,  55,  0,   0, 
                55,  55,  0,   0,
            ],
}
quad_im = QuadImage(image)
print(quad_im[(0, 0)]) # should print 100
print(quad_im[(3, 0)]) # should print 250  
</code></pre>
<p><b>C.</b> What are the base case(s) of <code>__getitem__</code>?</p>
<p><b>D.</b> What are the recursive case(s) of <code>__getitem__</code>?</p>
<p><b>E.</b> Fill in the missing code in the <code>QuadImage.__getitem__</code> method. After completing this function, your code should pass the first three test cases in the <code>test.py</code> file. The example code above can also be used to test your function (note <code>quad_im[(0, 0)]</code> is equivalent to <code>quad_im.__getitem__((0,0))</code>.)</p>
<p>Note: Unlike previous weeks there is no code submission for this part of the exercise. Instead, there will be one code submission box at the end that tests all parts of the <code>QuadImage</code> class.</p></p><p><span id="queue_checkyourself_3"></span></p></div>
<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_iter"></a><h2 class="cs_section_title">4)  Iter <a class="cs_permalink" href="#_iter">Â§</a></h2></p>
<p>Wouldn't it be nice to have an easy way to <i>generate</i> all pixel values, not just one? Luckily <code>__iter__</code> is meant to do just that!</p>
<pre><code class="language-python">def __iter__(self):
    """
    Iter generates all pixels in the QuadImage and outputs them
    in any order in the form (x, y, pixel_value).

    Note: this method should not use __getitem__.
    """

    if self.width == 0 and self.height == 0:
        return  # base case: empty quadrant, nothing to yield

    # what is the other base case? what should we yield in that case?

    # else yield adjusted pixel points and values for each sub-quadrant
</code></pre>
<p>For example, after you implement <code>__iter__</code> you should be able to run the example below and get the expected output:</p>
<pre><code class="language-python">small_image = {
    "width": 2,
    "height": 2,
    "pixels": [100, 50, 200, 150],
}
small_quad = QuadImage(small_image)
print(type(iter(small_quad)))  # this should print &lt;class 'generator'&gt;
# iter(small_quad) is equivalent to small_quad.__iter__()

# 'for x in small_quad' is equivalent to 'for x in small_quad.__iter()'
for value in small_quad:
	print(value)

'''
this loop should output:
 (0, 0, 100)
 (1, 0, 50)
 (0, 1, 200)
 (1, 1, 150) 
in any order
'''
</code></pre>
<div class="question"><b>Check Yourself 4:</b><p><b>A.</b> What are the base case(s) of <code>__iter__</code>? What should we yield in each case?
<p><b>B.</b> What are the recursive case(s) of <code>__iter__</code>? What should we yield in each case?</p>
<p><b>C.</b> Fill in the missing code in the <code>QuadImage.__iter__</code> method. After completing this function, your code should pass all the test cases in the <code>test.py</code> file. Yay! Remember to submit the code for your entire <code>QuadImage</code> class below when you're done to unlock the staff solution.</p></p><p><span id="queue_checkyourself_4"></span></p></div>
<p>
<!--START question quadimage_submit --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_quadimage_submit" style="position: static">
<div id="quadimage_submit_rendered_question">
<div id="catsoop_preamble_quadimage_submit"></div>
<div id="catsoop_prompt_quadimage_submit" style="display: inline;">Paste your definition of the <code>QuadImage</code> class below: The test cases are a subset of the <code>test.py</code> file so if your code is not passing the test cases online but is passing all the test cases locally, let us know! <br/></div>
<textarea id="quadimage_submit" name="quadimage_submit">
class QuadImage:

    def __init__(self, image_dict):

        # initialize attributes
        self.width = image_dict["width"]
        self.height = image_dict["height"]
        self.pixel = None
        self.quadrants = []

        pixels = image_dict["pixels"]

        # if image contains no pixels, we have a blank QuadImage
        if not pixels:
            return

        # if all pixels in the image have the same value,
        # this Quadtree is a leaf node
        if len(set(pixels)) == 1:
            self.pixel = pixels[0]
        else:
            # otherwise split image into four sub-images
            sub_images = split_image(image_dict)

            # recursively make quadrants by converting each
            # of the four sub-images into a QuadImage
            for sub_image in sub_images:
                self.quadrants.append(QuadImage(sub_image))

    def __getitem__(self, point):
        pass

    def __iter__(self):
        pass
</textarea>
<script type="text/javascript">
var cs_codemirror_quadimage_submit = catsoop.codemirror.editorFromTextArea(document.getElementById('quadimage_submit'), 'python');
</script>
</div><div>
<span id="quadimage_submit_buttons"></span>
<span id="quadimage_submit_loading_wrapper" role="status">
<span id="quadimage_submit_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="><span class="screenreader-only-clip">Loading...</span></img></span>
</span>
<span id="quadimage_submit_score_display" role="status"></span>
<div class="nsubmits_left" id="quadimage_submit_nsubmits_left" role="status"></div></div>
<div id="quadimage_submit_solution_container">
<div id="quadimage_submit_solution">
</div>
<div id="quadimage_submit_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="quadimage_submit_message" role="status"></div>
</div>
</section>
<!--END question quadimage_submit -->
</p>
<!--
<catsoop-section> Refactoring Tutor </catsoop-section>

If you finished the practice exercises early congrats! If you're still itching 
for more programming practice, this semester we're piloting a new tool that you
may see if you take 6.102/6.031 in the future. If you could take some time to install the tool 
(it requires VsCode + an extension) and do the exercises, you'll get some useful
practice learning about style and refactoring techniques. You can find 
[the page here](https://py.mit.edu/spring23/practice/refactoring_tutor).
-->
<p><script type="text/javascript">
        if (MathJax) {
            // Disable the MathJax right-click menu,
            // so that screenreader doesn't say "clickable" on every math element
            // Based on https://docs.mathjax.org/en/latest/web/configuration.html#configuring-mathjax-after-it-is-loaded
            MathJax.config.options = MathJax.config.options ?? {};
            MathJax.config.options.enableMenu = false;
            MathJax.startup.getComponents();
        }


        // give the hamburger menu icon an accessible label
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector("a.icon")?.setAttribute('aria-label', 'site-menu');
        });
        
        // based on catsoop.modal
        catsoop.vprof_survey = function (header, text, vprof_link, link_timestamp) {
          return new Promise(function (resolve, reject) {
            var response = {
            "response": null,
            "vprof_link": vprof_link,
            "link_timestamp": link_timestamp,
            "response_timestamp": null,
            "make_modal_timestamp": Date.now(),
            };
            var content = document.createElement("dialog");
            content.classList = ["catsoop-modal-content"];
            content.setAttribute("aria-labelledby", "catsoop-dialog-header");
            content.setAttribute("aria-describedby", "catsoop-dialog-body");
            content.addEventListener("keydown", function (e) {
              // this piece traps focus in the dialog while it is open
              // based on https://hidde.blog/using-javascript-to-trap-focus-in-an-element/
              if (!content.open) {
                return;
              }
              if (e.key === "Tab" || e.keyCode === 9) {
                if (e.shiftKey) {
                  if (document.activeElement === content.focusable[0]) {
                    content.focusable[content.focusable.length - 1].focus();
                    e.preventDefault();
                  }
                } else if (
                  document.activeElement ===
                  content.focusable[content.focusable.length - 1]
                ) {
                  content.focusable[0].focus();
                  e.preventDefault();
                }
              }
            });
            content.focusable = [];

            var mbody = document.createElement("div");
            mbody.classList = ["catsoop-modal-body"];

            var close_button = document.createElement("button");
            close_button.classList = ["catsoop-modal-close"];
            close_button.innerHTML = "&times;";
            close_button.setAttribute("aria-label", "Close");
            close_button.onclick = function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "cancel", "response_timestamp": Date.now()})));
            };
            content.focusable.push(close_button);
            mbody.append(close_button);

            var title = document.createElement("span");
            title.id = "catsoop-dialog-header";
            title.classList = ["catsoop-modal-header"];
            title.appendChild(document.createTextNode(header));
            title.setAttribute("role", "heading");
            mbody.appendChild(title);

            var body = document.createElement("p");
            body.id = "catsoop-dialog-body";
            body.innerHTML = text + "<br/>";
            mbody.appendChild(body);

            var buttons = document.createElement("span");
            var yes_button = document.createElement("button");
            yes_button.innerText = "Yes";
            yes_button.classList = ["btn btn-catsoop"];
            yes_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "yes", "response_timestamp": Date.now()})));
            });
            yes_button.setAttribute("autofocus", true);
            content.focusable.push(yes_button);


            var no_button = document.createElement("button");
            no_button.innerText = "No";
            no_button.classList = ["btn btn-catsoop"];
            no_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "no", "response_timestamp": Date.now()})));
            });
            content.focusable.push(no_button);

            buttons.appendChild(yes_button);
            buttons.appendChild(document.createTextNode(" "));
            buttons.appendChild(no_button);
            mbody.appendChild(buttons);

            content.addEventListener("close", function () {
              content.remove();
              last_clicked_vprof_report[0] = null;
              last_clicked_vprof_report[1] = null;
              showing_vprof_survey[0] = false;
              (content.returnValue === "" ? reject : resolve)(content.returnValue);
            });

            content.appendChild(mbody);
            document.body.appendChild(content);
            content.showModal();
          });
        };


        function postVprofSurveyResponse(value){
            var data = JSON.parse(value);
            var encoded_form_pairs = [];
            for (var name in data){
                encoded_form_pairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
            }
            //console.log("data", data)
            var form = encoded_form_pairs.join('&').replace(/%20/g, '+');
            //console.log("form data", form);

            var request = new XMLHttpRequest();
            request.onload = function(){
                var msg = request.response;
                var data = JSON.parse(msg);
                //if(data.ok){
                //    console.log("post success")
                //}else{
                //    concole.log("post error", msg, JSON.stringify(data))
                //}
            }

            request.open('POST', "https://py.mit.edu/spring25/staffonly/analytics/vprof_survey_collector", true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            request.send(form);

        }

        var showing_vprof_survey = [false];
        var last_clicked_vprof_report = [null, null];

        document.addEventListener('visibilitychange', e=>{
          if (document.visibilityState === 'visible' &&
              last_clicked_vprof_report[0] !== null &&
              !showing_vprof_survey[0]) {
              // show vorif yes/no survey
              catsoop.vprof_survey("vprof survey",
                "Did <a href='" + last_clicked_vprof_report[0] + "' target='_blank'> this vprof report</a> help you find and/or fix an efficiency bug?",
                last_clicked_vprof_report[0], last_clicked_vprof_report[1]).then(postVprofSurveyResponse, postVprofSurveyResponse);
              showing_vprof_survey[0] = true;
            }
        })

        var vprof_links  = document.getElementsByClassName("vprof_link");
        for (var i=0; i < vprof_links.length; i++) {
            let my_link = vprof_links[i].href
            if ((typeof my_link === 'string' || my_link instanceof String) && !my_link.includes("#")) {
                vprof_links[i].href = my_link + '#78111110101-5a8a1e3f617e6a4d35394db299505c70891e32b6ef000e1aa29d2948a4ecd87f';
            }
            vprof_links[i].onclick = function(){
              last_clicked_vprof_report[0] = this.href;
              last_clicked_vprof_report[1] = Date.now();
            }
        }


    </script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['q000000', 'q000001', 'q000002', 'quadimage_submit'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring25/practice/quadimage';
catsoop.path_info = ['spring25', 'practice', 'quadimage'];
catsoop.course = 'spring25';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/quadimage">QuadImage: Recursive Objects</a></li></nav>
<div class="cs_footer">
      This page was last updated on Thursday March 06, 2025 at 07:02:47 PM (revision <code>3d4b3df9</code>).<br/>Â <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.14.f36ce1d1 "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

