<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 19.0.6+hg.14.f36ce1d1.  miau. -->
<meta charset="utf-8"/>
<title>Loopless: Functional Programming | Fundamentals of Programming (Spring 2025) | 6.101 Spring 2025</title>
<link href="https://py.mit.edu/_static/spring25/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    function toggleAttribute(elt, attr){
        elt.setAttribute(attr, elt.getAttribute(attr) === "true" ? "false" : "true");
    }

    catsoop.topMenuFocus = function(event) {
        var elt = event.target;
        var target = event.relatedTarget;
        if (elt.classList.contains('menu-submenu')){
            var topmenu = elt.parentNode.parentNode;
            if (target && !target.classList.contains("menu-submenu") && target !== topmenu.children[1]) {
                clearMenu(topmenu);
            }
        }else if (!target.classList.contains('cs_top_menu_item')){
            clearMenu(elt.parentNode);
        }
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- dark mode -->
<script src="https://py.mit.edu/_static/_base/js/darkreader/darkreader.min.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.dark_mode_settings = null;
    if (catsoop.dark_mode_settings === null){
        catsoop.dark_mode_settings = JSON.parse(localStorage.getItem('catsoop_dark_mode_settings'));
        if (catsoop.dark_mode_settings === null){
            catsoop.dark_mode_settings = {'mode': 'disabled', 'brightness': 100, 'contrast': 90, 'sepia': 10, 'grayscale': 0};
        }
    }
    localStorage.setItem('catsoop_dark_mode_settings', JSON.stringify(catsoop.dark_mode_settings));
    catsoop.dark_mode = catsoop.dark_mode_settings.mode;
    delete catsoop.dark_mode_settings.mode;
    if (catsoop.dark_mode === 'enabled' || catsoop.dark_mode === 'auto'){
        DarkReader[catsoop.dark_mode == 'enabled' ? 'enable' : 'auto'](catsoop.dark_mode_settings);
    }
    
    document.addEventListener("DOMContentLoaded", function(event) {
        if (DarkReader.isEnabled()) {
            var invertfilter = 'invert(100%) hue-rotate(180deg)' +
                               ' brightness(' + catsoop.dark_mode_settings.brightness + '%)' +
                               ' contrast(' + catsoop.dark_mode_settings.contrast + '%)' +
                               ' grayscale(' + catsoop.dark_mode_settings.grayscale + '%)' +
                               ' sepia(' + catsoop.dark_mode_settings.sepia + '%)'
            var inverter = document.createElement('style');
            inverter.innerText = 'img.catsoop-darkmode-invert, video.catsoop-darkmode-invert {filter: ' + invertfilter + ';}\n\n'
            document.head.appendChild(inverter);
        }
    });
    // @license-end
    </script>
<!-- load in mathjax and CAT-SOOP-specific math rendering  -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    MathJax = {
      startup: {
        typeset: false,
      }
    }

    catsoop.render_math = function (elt) {
        if(elt.classList.contains('cs_displaymath')){
            var b = "\\[";
            var e = "\\]";
        }else{
            var b = "\\(";
            var e = "\\)";
        }
        elt.innerText = b + elt.innerText + e;
        MathJax.typeset([elt]);
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        if (elt === null) {
            return;
        }
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<script id="MathJax-script" src="https://py.mit.edu/_static/_base/js/mathjax/tex-chtml-full-speech.js"></script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/js/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/js/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/js/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.syntax_highlighting = function (elt) {
        if (elt === null) {
            return;
        }
        elt.querySelectorAll('pre > code:not(.highlighted)').forEach((block) => {
            hljs.highlightBlock(block);
            var wrap = document.createElement("section");
            wrap.setAttribute("aria-label", "Code block");
            block.parentNode.replaceWith(wrap);
            wrap.append(block.parentNode);
            block.classList.add('highlighted');
        });
        elt.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
            b.classList.remove('highlight-lines');
        });
    }
    window.addEventListener('DOMContentLoaded', function(){
        catsoop.syntax_highlighting(document);
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #0350ba;
        --cs-light-bg-color: #629ced;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
img {
  max-width:100% !important;
}
.visually-hidden {
	position: absolute !important;
	width: 1px !important;
	height: 1px !important;
	padding: 0 !important;
	margin: -1px !important;
	overflow: hidden !important;
	clip: rect(0,0,0,0) !important;
	white-space: nowrap !important;
	border: 0 !important;
}
kbd {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
}
</style>
<style>
[id^=cs_qdiv].question-lab101 [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101 [id$=nsubmits_left] {
  display: none;
}

[id^=cs_qdiv].question-lab101_vprof [id$=buttons] {
  display: none;
}
[id^=cs_qdiv].question-lab101_vprof [id$=nsubmits_left] {
  display: none;
}

</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.addEventListener("DOMContentLoaded", function(){
    sessionStorage.setItem("last-non-settings", catsoop.this_path);
});
// @license-end
</script>
<script src="https://py.mit.edu/_static/_base/js/codemirror/codemirror.bundle.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div aria-role="menubar" class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring25"><img src="https://py.mit.edu/_static/spring25/logo.gif"/>Â 6.101</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd">Information<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_c1a43e3f699a1ed71997b0321c2e9ffd" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/basics" onblur="catsoop.topMenuFocus(event);" role="menuitem">Basics and Schedule</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/grading" onblur="catsoop.topMenuFocus(event);" role="menuitem">Grading Policies</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/academic_integrity" onblur="catsoop.topMenuFocus(event);" role="menuitem">Academic Integrity</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/help" onblur="catsoop.topMenuFocus(event);" role="menuitem">Getting Help</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/infrastructure" onblur="catsoop.topMenuFocus(event);" role="menuitem">Infrastructure</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/info/staff" onblur="catsoop.topMenuFocus(event);" role="menuitem">Staff List</a></div></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee">Materials<span aria-hidden="true" class="downarrow">â¼</span></label>
<input checked="false" class="dropdown-checkbox screenreader-only-clip menu-toplevel" id="cs_menu_ee51a2d5002bd02613936bd9b2f3dbee" onblur="catsoop.topMenuFocus(event);" role="menuitemcheckbox" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/calendar" onblur="catsoop.topMenuFocus(event);" role="menuitem">Calendar</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/readings" onblur="catsoop.topMenuFocus(event);" role="menuitem">Readings</a>
<a class="cs_top_menu_item menu-submenu" href="https://py.mit.edu/spring25/labs" onblur="catsoop.topMenuFocus(event);" role="menuitem">Labs</a></div></div>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/progress" onblur="catsoop.topMenuFocus(event);" role="menuitem">Progress</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/queue" onblur="catsoop.topMenuFocus(event);" role="menuitem">Queue</a>
<a class="cs_top_menu_item menu-toplevel" href="https://py.mit.edu/spring25/practice/loopless?loginaction=login" onblur="catsoop.topMenuFocus(event);" role="menuitem">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">â°</a>
</div>
</header>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_top_navigation" id="cs_breadcrumbs"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/loopless">Loopless: Functional Programming</a></li></nav>
<div class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body" role="main">
<center><h1 class="cs_content_header">Loopless: Functional Programming</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
Please <a href="https://py.mit.edu/spring25/practice/loopless?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2 aria-hidden="true">Table of Contents</h2><ul aria-label="Table of Contents" role="navigation"><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2)  Introduction </a></li><li><a href="#_mutable_default_arguments">3)  Mutable Default Arguments </a></li><li><a href="#_translating_lisp">4)  Translating LISP </a></li><li><a href="#_linked_lists_functional_programming">5)  Linked Lists + Functional Programming </a></li><ul><li><a href="#_recalling_linked_lists">5.1)  Recalling Linked Lists </a></li><li><a href="#_map">5.2)  Map </a></li></ul><li><a href="#_bonus_section">6)  Bonus section </a></li><ul><li><a href="#_filter">6.1)  Filter </a></li><li><a href="#_reduce">6.2)  Reduce </a></li></ul></ul>
<style>
.CodeMirror {border: 2px solid grey;}
</style>
<p><a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">Â§</a></h2></p>
<p>This lab assumes you have Python 3.9 or later installed on your machine (3.11+ recommended).</p>
<p>The following file contains code and other resources as a starting point for
this practice exercise: <a href="https://py.mit.edu/_static/spring25/practice/loopless/loopless.zip">ZIP FOLDER</a></p>
<div class="impsolution" markdown="">
<p>This practice exercise is optional and ungraded but it is designed to help you prepare for this week's Lisp lab.</p>
</div>
<p>These problems are also a good way to practice writing code with good style. Upon submitting a correct solution to a problem, you will get access to staff solutions and explanations for each problem.</p>
<p>While we encourage students to collaborate on the concept questions, please refrain from collaborating on the coding problems except with staff members. To allow all students the benefit of working through the problems individually, the course academic integrity policy applies to your solution and the official solution code-- meaning no sharing or posting of answers allowed, especially on public or shared internet spaces.</p>
<p><a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2)  Introduction <a class="cs_permalink" href="#_introduction">Â§</a></h2></p>
<p>This week's practice exercises are meant to give you opportunities to practice the following skills (which will be useful for the LISP lab!):</p>
<ul>
<li>Interpreting LISP code</li>
<li>Drawing environment diagrams to understand program behavior</li>
<li>Functional programming and linked lists</li>
</ul>
<p><a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_mutable_default_arguments"></a><h2 class="cs_section_title">3)  Mutable Default Arguments <a class="cs_permalink" href="#_mutable_default_arguments">Â§</a></h2></p>
<p>Looking at the code below, what will the variables a and b evaluate to? Why?</p>
<div class="question"><b>Check Yourself 1:</b><p><pre><code class="language-python">def foo(x, y=[]):
    y.append(x)
    return y

a = foo(3)
b = foo(4)
</code></pre>
<p>
<!--START question q000000 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
<div id="catsoop_preamble_q000000"></div>
<div id="catsoop_prompt_q000000" style="display: inline;"><b>A.</b> Enter a python expression representing the value of the variable <code>a</code> after the call to <code>foo(3)</code> completes.<br/></div><input aria-labelledby="catsoop_prompt_q000000" id="q000000" name="q000000" size="50" type="text" value=""/>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper" role="status">
<span id="q000000_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000000_score_display" role="status"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left" role="status"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000000_message" role="status"></div>
</div>
</section>
<!--END question q000000 -->
</p>
<p>
<!--START question q000001 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
<div id="catsoop_preamble_q000001"></div>
<div id="catsoop_prompt_q000001" style="display: inline;"><b>B.</b> Enter a python expression representing the value of the variable <code>b</code> after the call to <code>foo(4)</code> completes.<br/></div><input aria-labelledby="catsoop_prompt_q000001" id="q000001" name="q000001" size="50" type="text" value=""/>
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper" role="status">
<span id="q000001_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000001_score_display" role="status"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left" role="status"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000001_message" role="status"></div>
</div>
</section>
<!--END question q000001 -->
</p></p><p><span id="queue_checkyourself_1"></span></p></div>
<p><b>Before moving on to the next section, click view answer and see explanation and make sure you understand the environment diagrams.</b>  A very common bug in the LISP lab is caused by using mutable default arguments.</p>
<p><a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_translating_lisp"></a><h2 class="cs_section_title">4)  Translating LISP <a class="cs_permalink" href="#_translating_lisp">Â§</a></h2></p>
<p>The Scheme code below is from lab test case lisp/test_inputs/21.scm. Because being able to look at the test cases and figure out what they're doing is an important part of the debugging process for this lab, we'll practice this skill by translating the code into Python and then reasoning about the execution of the code:</p>
<pre><code class="language-python">(define (call x) (x))
(define (spam) (call (lambda () 2)))
(call spam)
</code></pre>
<div class="question"><b>Check Yourself 2:</b><p>
<!--START question code_translate_scheme --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_code_translate_scheme" style="position: static">
<div id="code_translate_scheme_rendered_question">
<div id="catsoop_preamble_code_translate_scheme"></div>
<div id="catsoop_prompt_code_translate_scheme" style="display: inline;"><b>A.</b> Write an equivalent Python program for the above Scheme code: <br/></div>
<textarea id="code_translate_scheme" name="code_translate_scheme"># Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_code_translate_scheme = catsoop.codemirror.editorFromTextArea(document.getElementById('code_translate_scheme'), 'python');
</script>
</div><div>
<span id="code_translate_scheme_buttons"></span>
<span id="code_translate_scheme_loading_wrapper" role="status">
<span id="code_translate_scheme_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="code_translate_scheme_score_display" role="status"></span>
<div class="nsubmits_left" id="code_translate_scheme_nsubmits_left" role="status"></div></div>
<div id="code_translate_scheme_solution_container">
<div id="code_translate_scheme_solution">
</div>
<div id="code_translate_scheme_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="code_translate_scheme_message" role="status"></div>
</div>
</section>
<!--END question code_translate_scheme -->
<p>
<!--START question q000002 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
<div id="catsoop_preamble_q000002"></div>
<div id="catsoop_prompt_q000002" style="display: inline;"><b>B.</b> What is the result of calling <code>call(spam)</code>? If the function would result in an error, enter <code>"error"</code> (including quotes). If the function would result in an infinite recursive loop, enter <code>"infinite"</code> (including quotes).<br/></div><input aria-labelledby="catsoop_prompt_q000002" id="q000002" name="q000002" size="50" type="text" value=""/>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper" role="status">
<span id="q000002_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000002_score_display" role="status"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left" role="status"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000002_message" role="status"></div>
</div>
</section>
<!--END question q000002 -->
</p>
<p>
<!--START question q000003 --><section aria-label="Question">
<div class="question question-pythonic" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
<div id="catsoop_preamble_q000003"></div>
<div id="catsoop_prompt_q000003" style="display: inline;"><b>C.</b> Not including the global and built-in frames, how many frames will be created as a result of executing <code>call(spam)</code>?<br/></div><input aria-labelledby="catsoop_prompt_q000003" id="q000003" name="q000003" size="50" type="text" value=""/>
</div><div>
<span id="q000003_buttons"></span>
<span id="q000003_loading_wrapper" role="status">
<span id="q000003_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="q000003_score_display" role="status"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left" role="status"></div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="q000003_message" role="status"></div>
</div>
</section>
<!--END question q000003 -->
</p>
<p><b> View the answer explanation to the question above to see an environment diagram with explanations. </b></p>
<p>Note: This environment diagram also reflects what your LISP interpreter should do when it evaluates the code. Where and when does your LISP interpreter create the new frames? How can you check whether it is defining your frames properly? (hint: having a <code>__str__</code> method within your custom classes might be a good idea for debugging purposes)</p></p><p><span id="queue_checkyourself_2"></span></p></div>
<p><a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_linked_lists_functional_programming"></a><h2 class="cs_section_title">5)  Linked Lists + Functional Programming <a class="cs_permalink" href="#_linked_lists_functional_programming">Â§</a></h2></p>
<p>For this last section, we will practice writing functional programs (you will write functional programs in Scheme as part of the concept questions for the lab) using linked lists (which you will implement in the form of a custom class as part of the lab).</p>
<p><a class="anchor" name="catsoop_section_5_1"></a><a class="anchor" name="_recalling_linked_lists"></a><h3 class="cs_section_title">5.1)  Recalling Linked Lists <a class="cs_permalink" href="#_recalling_linked_lists">Â§</a></h3>
For today's practice exercise, we'll implement linked lists using nested tuples (as we've seen many moons ago in recitation). For today's exercises we'll define a linked list as either:</p>
<ul>
<li>an empty linked list (represented by <code>None</code>), or</li>
<li>a tuple whose first element is the first element in the linked list and whose second element is a linked list containing the rest of the elements.</li>
</ul>
<p>This forms the basis of a simple immutable linked-list structure. Note that <code>None</code> is the only linked list that is not also a tuple.</p>
<p>For example, consider the following examples:</p>
<ul>
<li><code>None</code> represents the empty linked list.</li>
<li><code>(9, None)</code> represents a linked list with a single element (9).</li>
<li><code>(9, (8 (7, None)))</code> represents a linked list containing the elements 9, 8, and 7, in that order.</li>
</ul>
<p>It's worth noting that, although lists are comprised of tuples, not all tuples are linked lists. For example, <code>(1, 2)</code> is not a linked list, and while <code>((5,), None)</code> is a linked list its first element <code>(5,)</code> is not.</p>
<p><a class="anchor" name="catsoop_section_5_2"></a><a class="anchor" name="_map"></a><h3 class="cs_section_title">5.2)  Map <a class="cs_permalink" href="#_map">Â§</a></h3></p>
<p>Map is a common functional programming method used across <a href="https://en.wikipedia.org/wiki/Map_(higher-order_function)"> many high-level programming languages</a>. It's loop based equivalent applied to a regular list would look something like this:</p>
<pre><code class="language-python">def square(x):
    return x**2

def map(in_list, func):
    map_result = []
    for obj in in_list:
        map_result.append(func(obj))
    return map_result

print(map([1, 2, 3, 4], square))
# should print [1, 4, 9, 16]
# because 1 gets mapped to 1**2, 2 gets mapped to 4, etc. in the output list
</code></pre>
<p>Your task is to complete the map function below <i> without using any loops.</i></p>
<pre><code class="language-python">def map(tup_link, func):
    """
    Given a linked list and a function that takes a single argument, create
    a new linked list containing the results of applying the given
    function to each element of the given list.

    For example:
    &gt;&gt;&gt; map((1, (2, (3, (4, (5, None))))), lambda x: x*x)
    (1, (4, (9, (16, (25, None)))))
    &gt;&gt;&gt; map((1, None), lambda x: -x)
    (-1, None)
    &gt;&gt;&gt; map(("zebra", ("ran", ("backwards", None))), lambda x: x[0]+"oom!")
    ('zoom!', ('room!', ('boom!', None)))
    """
    pass
</code></pre>
<div class="question"><b>Check Yourself 3:</b><p><b>A.</b> What are the base case(s) for the <code>map</code> function?
<p><b>B.</b> What are the recursive case(s) for the <code>map</code> function?</p></p><p><span id="queue_checkyourself_3"></span></p></div>
<p>
<!--START question code_map_python --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_code_map_python" style="position: static">
<div id="code_map_python_rendered_question">
<div id="catsoop_preamble_code_map_python"></div>
<div id="catsoop_prompt_code_map_python" style="display: inline;"><b>C.</b> Paste your definition of <code>map</code> below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="code_map_python" name="code_map_python">def map(tup_link, func):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_code_map_python = catsoop.codemirror.editorFromTextArea(document.getElementById('code_map_python'), 'python');
</script>
</div><div>
<span id="code_map_python_buttons"></span>
<span id="code_map_python_loading_wrapper" role="status">
<span id="code_map_python_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="code_map_python_score_display" role="status"></span>
<div class="nsubmits_left" id="code_map_python_nsubmits_left" role="status"></div></div>
<div id="code_map_python_solution_container">
<div id="code_map_python_solution">
</div>
<div id="code_map_python_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="code_map_python_message" role="status"></div>
</div>
</section>
<!--END question code_map_python -->
</p>
<p>Note when you are working through the lab if you are having trouble writing functional programs in Scheme, a good strategy is to write the equivalent program in Python first and then translate it into Scheme as we have done here (LISP syntax can be tricky with all the parentheses!) Writing the code first in python is also a good strategy if you get stuck on writing the Scheme programs you will submit as part of the concept questions.</p>
<p><a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_bonus_section"></a><h2 class="cs_section_title">6)  Bonus section <a class="cs_permalink" href="#_bonus_section">Â§</a></h2></p>
<p>Yay! You finished!</p>
<p>If you would like more practice with functional programming, we have provided some extra bonus exercises where you can write filter and reduce in python, and then translate these functions into Scheme.</p>
<p><a class="anchor" name="catsoop_section_6_1"></a><a class="anchor" name="_filter"></a><h3 class="cs_section_title">6.1)  Filter <a class="cs_permalink" href="#_filter">Â§</a></h3></p>
<p>For extra practice with functional programming, implement filter below. Remember: no loops allowed!</p>
<pre><code class="language-python">def filter(tup_link, func):
    """
    Given a linked list and filter function, create a new linked list containing
    the values that pass through the filter.

    The filter function takes a value and returns a boolean indicating whether
    the value should be included in the result.

    For example:
    &gt;&gt;&gt; filter((1, (2, (3, (4, (5, None))))), lambda x: x%2 == 0)
    (2, (4, None))
    &gt;&gt;&gt; filter((1, None), lambda x: x &lt; 0) is None
    True
    &gt;&gt;&gt; map(filter(("zebra", ("ran", ("backwards", ("", None)))), lambda x: len(x) &gt; 3), lambda x: x[0]+"oom!")
    ('zoom!', ('boom!', None))
    """
    pass
</code></pre>
<div class="question"><b>Check Yourself 4:</b><p><b>A.</b> What are the base case(s) for the <code>filter</code> function?
<p><b>B.</b> What are the recursive case(s) for the <code>filter</code> function?</p></p><p><span id="queue_checkyourself_4"></span></p></div>
<p>
<!--START question code_filter_python --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_code_filter_python" style="position: static">
<div id="code_filter_python_rendered_question">
<div id="catsoop_preamble_code_filter_python"></div>
<div id="catsoop_prompt_code_filter_python" style="display: inline;"><b>C.</b> Paste your definition of <code>filter</code> below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="code_filter_python" name="code_filter_python">def filter(tup_link, func):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_code_filter_python = catsoop.codemirror.editorFromTextArea(document.getElementById('code_filter_python'), 'python');
</script>
</div><div>
<span id="code_filter_python_buttons"></span>
<span id="code_filter_python_loading_wrapper" role="status">
<span id="code_filter_python_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="code_filter_python_score_display" role="status"></span>
<div class="nsubmits_left" id="code_filter_python_nsubmits_left" role="status"></div></div>
<div id="code_filter_python_solution_container">
<div id="code_filter_python_solution">
</div>
<div id="code_filter_python_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="code_filter_python_message" role="status"></div>
</div>
</section>
<!--END question code_filter_python -->
</p>
<p><a class="anchor" name="catsoop_section_6_2"></a><a class="anchor" name="_reduce"></a><h3 class="cs_section_title">6.2)  Reduce <a class="cs_permalink" href="#_reduce">Â§</a></h3></p>
<p>For extra practice with functional programming, implement reduce below. Remember: no loops allowed!</p>
<pre><code class="language-python">def reduce(tup_link, func, val):
    """
    Given a linked list, a function, and an initial value as inputs, make the
    output by successively applying the given function to theelements in the
    list, maintaining an intermediate result along the way.

    This is perhaps the most difficult of the three functions to understand,
    but it may be easiest to see by example:
    &gt;&gt;&gt; reduce((1, (2, (3, (4, None)))), lambda val, x: val + x, 0)
    10
    &gt;&gt;&gt; reduce(("zebra", ("ran", ("backwards", ("", None)))), lambda val, x: val + " " + x, "the")
    'the zebra ran backwards '
    """
    pass
</code></pre>
<div class="question"><b>Check Yourself 5:</b><p><b>A.</b> What are the base case(s) for the <code>reduce</code> function?
<p><b>B.</b> What are the recursive case(s) for the <code>reduce</code> function?</p></p><p><span id="queue_checkyourself_5"></span></p></div>
<p>
<!--START question code_reduce_python --><section aria-label="Question">
<div class="question question-pythoncode" id="cs_qdiv_code_reduce_python" style="position: static">
<div id="code_reduce_python_rendered_question">
<div id="catsoop_preamble_code_reduce_python"></div>
<div id="catsoop_prompt_code_reduce_python" style="display: inline;"><b>C.</b> Paste your definition of <code>reduce</code> below: (click in the box, use ctrl+a to highlight text, ctrl+v to paste) <br/></div>
<textarea id="code_reduce_python" name="code_reduce_python">def reduce(tup_link, func, val):
    pass # Your code here</textarea>
<script type="text/javascript">
var cs_codemirror_code_reduce_python = catsoop.codemirror.editorFromTextArea(document.getElementById('code_reduce_python'), 'python');
</script>
</div><div>
<span id="code_reduce_python_buttons"></span>
<span id="code_reduce_python_loading_wrapper" role="status">
<span id="code_reduce_python_loading" style="display:none;"><img class="catsoop-darkmode-invert" src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/><span class="screenreader-only-clip">Loading...</span></span>
</span>
<span id="code_reduce_python_score_display" role="status"></span>
<div class="nsubmits_left" id="code_reduce_python_nsubmits_left" role="status"></div></div>
<div id="code_reduce_python_solution_container">
<div id="code_reduce_python_solution">
</div>
<div id="code_reduce_python_solution_explanation">
</div>
</div>
<div aria-atomic="true" id="code_reduce_python_message" role="status"></div>
</div>
</section>
<!--END question code_reduce_python -->
</p>
<p><script type="text/javascript">
        if (MathJax) {
            // Disable the MathJax right-click menu,
            // so that screenreader doesn't say "clickable" on every math element
            // Based on https://docs.mathjax.org/en/latest/web/configuration.html#configuring-mathjax-after-it-is-loaded
            MathJax.config.options = MathJax.config.options ?? {};
            MathJax.config.options.enableMenu = false;
            MathJax.startup.getComponents();
        }


        // give the hamburger menu icon an accessible label
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector("a.icon")?.setAttribute('aria-label', 'site-menu');
        });
        
        // based on catsoop.modal
        catsoop.vprof_survey = function (header, text, vprof_link, link_timestamp) {
          return new Promise(function (resolve, reject) {
            var response = {
            "response": null,
            "vprof_link": vprof_link,
            "link_timestamp": link_timestamp,
            "response_timestamp": null,
            "make_modal_timestamp": Date.now(),
            };
            var content = document.createElement("dialog");
            content.classList = ["catsoop-modal-content"];
            content.setAttribute("aria-labelledby", "catsoop-dialog-header");
            content.setAttribute("aria-describedby", "catsoop-dialog-body");
            content.addEventListener("keydown", function (e) {
              // this piece traps focus in the dialog while it is open
              // based on https://hidde.blog/using-javascript-to-trap-focus-in-an-element/
              if (!content.open) {
                return;
              }
              if (e.key === "Tab" || e.keyCode === 9) {
                if (e.shiftKey) {
                  if (document.activeElement === content.focusable[0]) {
                    content.focusable[content.focusable.length - 1].focus();
                    e.preventDefault();
                  }
                } else if (
                  document.activeElement ===
                  content.focusable[content.focusable.length - 1]
                ) {
                  content.focusable[0].focus();
                  e.preventDefault();
                }
              }
            });
            content.focusable = [];

            var mbody = document.createElement("div");
            mbody.classList = ["catsoop-modal-body"];

            var close_button = document.createElement("button");
            close_button.classList = ["catsoop-modal-close"];
            close_button.innerHTML = "&times;";
            close_button.setAttribute("aria-label", "Close");
            close_button.onclick = function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "cancel", "response_timestamp": Date.now()})));
            };
            content.focusable.push(close_button);
            mbody.append(close_button);

            var title = document.createElement("span");
            title.id = "catsoop-dialog-header";
            title.classList = ["catsoop-modal-header"];
            title.appendChild(document.createTextNode(header));
            title.setAttribute("role", "heading");
            mbody.appendChild(title);

            var body = document.createElement("p");
            body.id = "catsoop-dialog-body";
            body.innerHTML = text + "<br/>";
            mbody.appendChild(body);

            var buttons = document.createElement("span");
            var yes_button = document.createElement("button");
            yes_button.innerText = "Yes";
            yes_button.classList = ["btn btn-catsoop"];
            yes_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "yes", "response_timestamp": Date.now()})));
            });
            yes_button.setAttribute("autofocus", true);
            content.focusable.push(yes_button);


            var no_button = document.createElement("button");
            no_button.innerText = "No";
            no_button.classList = ["btn btn-catsoop"];
            no_button.addEventListener("click", function () {
              content.close(JSON.stringify(Object.assign(response, {"response": "no", "response_timestamp": Date.now()})));
            });
            content.focusable.push(no_button);

            buttons.appendChild(yes_button);
            buttons.appendChild(document.createTextNode(" "));
            buttons.appendChild(no_button);
            mbody.appendChild(buttons);

            content.addEventListener("close", function () {
              content.remove();
              last_clicked_vprof_report[0] = null;
              last_clicked_vprof_report[1] = null;
              showing_vprof_survey[0] = false;
              (content.returnValue === "" ? reject : resolve)(content.returnValue);
            });

            content.appendChild(mbody);
            document.body.appendChild(content);
            content.showModal();
          });
        };


        function postVprofSurveyResponse(value){
            var data = JSON.parse(value);
            var encoded_form_pairs = [];
            for (var name in data){
                encoded_form_pairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
            }
            //console.log("data", data)
            var form = encoded_form_pairs.join('&').replace(/%20/g, '+');
            //console.log("form data", form);

            var request = new XMLHttpRequest();
            request.onload = function(){
                var msg = request.response;
                var data = JSON.parse(msg);
                //if(data.ok){
                //    console.log("post success")
                //}else{
                //    concole.log("post error", msg, JSON.stringify(data))
                //}
            }

            request.open('POST', "https://py.mit.edu/spring25/staffonly/analytics/vprof_survey_collector", true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            request.send(form);

        }

        var showing_vprof_survey = [false];
        var last_clicked_vprof_report = [null, null];

        document.addEventListener('visibilitychange', e=>{
          if (document.visibilityState === 'visible' &&
              last_clicked_vprof_report[0] !== null &&
              !showing_vprof_survey[0]) {
              // show vorif yes/no survey
              catsoop.vprof_survey("vprof survey",
                "Did <a href='" + last_clicked_vprof_report[0] + "' target='_blank'> this vprof report</a> help you find and/or fix an efficiency bug?",
                last_clicked_vprof_report[0], last_clicked_vprof_report[1]).then(postVprofSurveyResponse, postVprofSurveyResponse);
              showing_vprof_survey[0] = true;
            }
        })

        var vprof_links  = document.getElementsByClassName("vprof_link");
        for (var i=0; i < vprof_links.length; i++) {
            let my_link = vprof_links[i].href
            if ((typeof my_link === 'string' || my_link instanceof String) && !my_link.includes("#")) {
                vprof_links[i].href = my_link + '#78111110101-5a8a1e3f617e6a4d35394db299505c70891e32b6ef000e1aa29d2948a4ecd87f';
            }
            vprof_links[i].onclick = function(){
              last_clicked_vprof_report[0] = this.href;
              last_clicked_vprof_report[1] = Date.now();
            }
        }


    </script></p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['q000000', 'q000001', 'code_translate_scheme', 'q000002', 'q000003', 'code_map_python', 'code_filter_python', 'code_reduce_python'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring25/practice/loopless';
catsoop.path_info = ['spring25', 'practice', 'loopless'];
catsoop.course = 'spring25';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<div id="cs_footnotes" style="display:none;"></div>
</div>
</div>
<div class="cs_right_menu"></div>
</div>
<footer>
<nav aria-label="Breadcrumbs" class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><li><a href="https://py.mit.edu/spring25">Home</a></li><li><a href="https://py.mit.edu/spring25/practice">Fundamentals of Programming (Spring 2025)</a></li><li><a href="https://py.mit.edu/spring25/practice/loopless">Loopless: Functional Programming</a></li></nav>
<div class="cs_footer">
      This page was last updated on Thursday March 06, 2025 at 07:02:47 PM (revision <code>3d4b3df9</code>).<br/>Â <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.org" target="_blank">CAT-SOOP</a> v19.0.6+hg.14.f36ce1d1 "Korat" (LTS) (development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

